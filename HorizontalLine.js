import * as Vue from 'https://unpkg.com/vue@3/dist/vue.runtime.esm-browser.prod.js';
import { loadModule } from 'https://cdn.jsdelivr.net/npm/vue3-sfc-loader/dist/vue3-sfc-loader.esm.js';

(async () => {
  const componentSource = `
%3Ctemplate%3E%0A%20%20%3Cdiv%0A%20%20%20%20:style=%22inlineStyles%22%0A%20%20%20%20class=%22ice_horizontal_line%22%0A%20%20%3E%0A%20%20%20%20%3Chr%20:style=%22borderStyle%22%3E%0A%20%20%3C/div%3E%0A%3C/template%3E%0A%0A%3Cscript%3E%0Afunction%20getFlexHorizontalAlign(align)%20%7B%0A%20%20switch%20(align)%20%7B%0A%20%20%20%20case%20'left':%0A%20%20%20%20%20%20return%20'flex-start';%0A%20%20%20%20case%20'center':%0A%20%20%20%20%20%20return%20'center';%0A%20%20%20%20case%20'right':%0A%20%20%20%20%20%20return%20'flex-end';%0A%20%20%7D%0A%7D%0A%0Afunction%20getFlexVerticalAlign(align)%20%7B%0A%20%20switch%20(align)%20%7B%0A%20%20%20%20case%20'top':%0A%20%20%20%20%20%20return%20'flex-start';%0A%20%20%20%20case%20'middle':%0A%20%20%20%20%20%20return%20'center';%0A%20%20%20%20case%20'bottom':%0A%20%20%20%20%20%20return%20'flex-end';%0A%20%20%7D%0A%7D%0A%0Afunction%20getPositionFixedHorizontal(value)%20%7B%0A%20%20switch%20(value)%20%7B%0A%20%20%20%20case%20'left':%0A%20%20%20%20%20%20return%20%7B%20left:%20'0',%20transform:%20''%20%7D;%0A%20%20%20%20case%20'center':%0A%20%20%20%20%20%20return%20%7B%20left:%20'50%25',%20transform:%20'translateX(-50%25)'%20%7D;%0A%20%20%20%20case%20'right':%0A%20%20%20%20%20%20return%20%7B%20left:%20'100%25',%20translate:%20'translateX(-100%25)'%20%7D;%0A%20%20%7D%0A%7D%0A%0Afunction%20getPositionFixedVertical(value)%20%7B%0A%20%20switch%20(value)%20%7B%0A%20%20%20%20case%20'top':%0A%20%20%20%20%20%20return%20%7B%20top:%20'0',%20transform:%20''%20%7D;%0A%20%20%20%20case%20'middle':%0A%20%20%20%20%20%20return%20%7B%20top:%20'50%25',%20transform:%20'translateY(-50%25)'%20%7D;%0A%20%20%20%20case%20'bottom':%0A%20%20%20%20%20%20return%20%7B%20top:%20'100%25',%20transform:%20'translateY(-100%25)'%20%7D;%0A%20%20%7D%0A%7D%0A%0Afunction%20getBlockHorizontalAlign(value)%20%7B%0A%20%20switch%20(value)%20%7B%0A%20%20%20%20case%20'left':%0A%20%20%20%20%20%20return%20%7B%20display:%20'table',%20marginRight:%20'auto'%20%7D;%0A%20%20%20%20case%20'center':%0A%20%20%20%20%20%20return%20%7B%20display:%20'table',%20marginLeft:%20'auto',%20marginRight:%20'auto'%20%7D;%0A%20%20%20%20case%20'right':%0A%20%20%20%20%20%20return%20%7B%20display:%20'table',%20marginLeft:%20'auto'%20%7D;%0A%20%20%20%20case%20'inline':%0A%20%20%20%20%20%20return%20%7B%20display:%20'inline-block',%20verticalAlign:%20'middle'%20%7D;%0A%20%20%7D%0A%7D%0A/**%0A%20*%20Some%20props%20name%20is%20not%20native%20CSS%20name%20e.g.%20horiztonalAlign,%20verticalAlign,%20...%0A%20*%0A%20*%20This%20will%20convert%20to%20CSS%20Styles%0A%20*%0A%20*%20ICE%20Core:%0A%20*%0A%20*%20foCommonLayout%0A%20*%20foFlexLayout%0A%20*%20foFloatingLayout%0A%20*%20foImageLayout%0A%20*/%0Afunction%20buildInlineStyles(...args)%20%7B%0A%20%20const%20data%20=%20Object.assign(%7B%7D,%20...args);%0A%20%20const%20result%20=%20%7B%7D;%0A%0A%20%20for%20(const%20k%20in%20data)%20%7B%0A%20%20%20%20const%20value%20=%20data%5Bk%5D?.value%20%7C%7C%20null;%0A%0A%20%20%20%20switch%20(k)%20%7B%0A%20%20%20%20%20%20case%20'flexHorizontalAlign':%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20direction%20=%20data?.flexDirection?.value%20%7C%7C%20'column';%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(direction%20==%20'row')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20result.justifyContent%20=%20getFlexHorizontalAlign(value);%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20result.alignItems%20=%20getFlexHorizontalAlign(value);%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break;%0A%20%20%20%20%20%20case%20'flexVerticalAlign':%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20direction%20=%20data?.flexDirection?.value%20%7C%7C%20'column';%0A%20%20%20%20%20%20%20%20%20%20if%20(direction%20==%20'row')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20result.alignItems%20=%20getFlexVerticalAlign(value);%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20result.justifyContent%20=%20getFlexVerticalAlign(value);%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break;%0A%20%20%20%20%20%20case%20'horizontalPosition':%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20position%20=%20data?.position?.value%20%7C%7C%20'';%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(position%20==%20'fixed')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20%7B%20left,%20transform%20%7D%20=%20getPositionFixedHorizontal(value);%0A%20%20%20%20%20%20%20%20%20%20%20%20result.left%20=%20left;%0A%20%20%20%20%20%20%20%20%20%20%20%20result.transform%20=%20%60$%7B(result.transform%20%7C%7C%20'')%7D%20$%7Btransform%7D%60;%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break;%0A%20%20%20%20%20%20case%20'verticalPosition':%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20position%20=%20data?.position?.value%20%7C%7C%20'';%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(position%20==%20'fixed')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20%7B%20top,%20transform%20%7D%20=%20getPositionFixedVertical(value);%0A%20%20%20%20%20%20%20%20%20%20%20%20result.top%20=%20top;%0A%20%20%20%20%20%20%20%20%20%20%20%20result.transform%20=%20%60$%7B(result.transform%20%7C%7C%20'')%7D%20$%7Btransform%7D%60;%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break;%0A%20%20%20%20%20%20case%20'blockHorizontalAlign':%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20styles%20=%20getBlockHorizontalAlign(value);%0A%20%20%20%20%20%20%20%20%20%20Object.assign(result,%20styles);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break;%0A%20%20%20%20%20%20default:%0A%20%20%20%20%20%20%20%20result%5Bk%5D%20=%20value;%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20return%20Object.entries(result).reduce((r,%20%5Bk,%20v%5D)%20=%3E%20%7B%0A%20%20%20%20if%20(v%20!=%20null)%20%7B%0A%20%20%20%20%20%20r%5Bk%5D%20=%20v;%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20r;%0A%20%20%7D,%20%7B%7D);%0A%7D%0A%0Afunction%20getBoxShadowStyle(styles,%20important)%20%7B%0A%20%20if%20(styles%20==%20null%20%7C%7C%20!styles?.enable)%20return%20null;%0A%0A%20%20const%20%7B%0A%20%20%20%20x,%20y,%20blur,%20spread,%20color,%20sizeUnit,%0A%20%20%7D%20=%20styles;%0A%0A%20%20const%20unit%20=%20sizeUnit%20&&%20sizeUnit.value%20?%20sizeUnit.value%20:%20'px';%0A%0A%20%20return%20%60$%7Bx%7D$%7Bunit%7D%20$%7By%7D$%7Bunit%7D%20$%7Bblur%7D$%7Bunit%7D%20$%7Bspread%7D$%7Bunit%7D%20$%7Bcolor%7D%20$%7Bimportant%20?%20'!important'%20:%20''%7D%60;%0A%7D%0A%0A%0Aexport%20default%20%7B%0A%20%20description:%20'%60HorizontalLine%60%20Element',%0A%20%20examples:%20%5B%0A%20%20%20%20%7B%20docName:%20'Basic%20Line',%20horizontalLineStyle:%20%7B%20borderStyle:%20%7B%20color:%20'purple',%20size:%20'5px',%20type:%20'solid'%20%7D%20%7D%20%7D,%0A%20%20%20%20%7B%0A%20%20%20%20%20%20docName:%20'Line%20Angle%20and%20Shadow',%0A%20%20%20%20%20%20horizontalLineStyle:%20%7B%0A%20%20%20%20%20%20%20%20borderStyle:%20%7B%20color:%20'green',%20size:%20'5px',%20type:%20'solid'%20%7D,%0A%20%20%20%20%20%20%20%20angleStyle:%203,%0A%20%20%20%20%20%20%20%20shadowStyle:%20%7B%0A%20%20%20%20%20%20%20%20%20%20color:%20'#280B4E',%20enable:%20true,%20x:%201,%20y:%201,%20blur:%201,%0A%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%7D,%0A%20%20%20%20%7D,%0A%20%20%20%20%7B%0A%20%20%20%20%20%20docName:%20'Line%20Style%20-%20Dot',%0A%20%20%20%20%20%20horizontalLineStyle:%20%7B%0A%20%20%20%20%20%20%20%20borderStyle:%20%7B%0A%20%20%20%20%20%20%20%20%20%20color:%20'red',%20size:%20'15px',%20type:%20'dotted',%20enable:%20true,%0A%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20shadowStyle:%20%7B%0A%20%20%20%20%20%20%20%20%20%20color:%20'#280B4E',%20enable:%20true,%20x:%201,%20y:%201,%20blur:%201,%0A%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%7D,%0A%20%20%20%20%7D,%0A%20%20%5D,%0A%20%20props:%20%7B%0A%20%20%20%20horizontalLineStyle:%20%7B%0A%20%20%20%20%20%20type:%20Object,%0A%20%20%20%20%20%20default:%20()%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20borderStyle:%20%7B%0A%20%20%20%20%20%20%20%20%20%20color:%20'',%0A%20%20%20%20%20%20%20%20%20%20size:%201,%0A%20%20%20%20%20%20%20%20%20%20type:%20'solid',%0A%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20shadowStyle:%20%7B%7D,%0A%20%20%20%20%20%20%20%20angleStyle:%200,%0A%20%20%20%20%20%20%7D),%0A%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20options:%20%7B%0A%20%20%20%20%20%20%20%20%20%20borderStyle:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type:%20Object,%0A%20%20%20%20%20%20%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20options:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enable:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20Boolean,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default:%20'purple',%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hidden:%20true,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20size:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20Number,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20Number,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20component:%20'Radio',%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20list:%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'solid',%20label:%20'Solid'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'dotted',%20label:%20'Dotted'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'dashed',%20label:%20'Dashed'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'double',%20label:%20'Double'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'groove',%20label:%20'Groove'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'ridge',%20label:%20'Ridge'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'inset',%20label:%20'Inset'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20value:%20'outset',%20label:%20'Outset'%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20shadowStyle:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type:%20Object,%0A%20%20%20%20%20%20%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20options:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enable:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20Boolean,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hidden:%20true,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20Number,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20Number,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blur:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type:%20Number,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%20%20angleStyle:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type:%20Number,%0A%20%20%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20%7D,%0A%20%20%20%20%7D,%0A%20%20%20%20alignment:%20%7B%0A%20%20%20%20%20%20type:%20Object,%0A%20%20%20%20%20%20default:%20()%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20blockHorizontalAlign:%20'center',%0A%20%20%20%20%20%20%7D),%0A%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20hidden:%20true,%0A%20%20%20%20%20%20%7D,%0A%20%20%20%20%7D,%0A%20%20%20%20styles:%20%7B%0A%20%20%20%20%20%20type:%20Object,%0A%20%20%20%20%20%20default:%20()%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20width:%20'100%25',%0A%20%20%20%20%20%20%20%20height:%20null,%0A%20%20%20%20%20%20%7D),%0A%20%20%20%20%20%20doc:%20%7B%0A%20%20%20%20%20%20%20%20hidden:%20true,%0A%20%20%20%20%20%20%7D,%0A%20%20%20%20%7D,%0A%20%20%7D,%0A%0A%20%20computed:%20%7B%0A%20%20%20%20borderStyle()%20%7B%0A%20%20%20%20%20%20const%20borderStyle%20=%20this.horizontalLineStyle?.borderStyle%20%7C%7C%20%7B%7D;%0A%0A%20%20%20%20%20%20const%20%7B%20size,%20type%20%7D%20=%20borderStyle;%0A%20%20%20%20%20%20const%20borderColor%20=%20borderStyle.color%20%7C%7C%20null;%0A%20%20%20%20%20%20const%20borderType%20=%20type?.value%20%7C%7C%20'solid';%0A%0A%20%20%20%20%20%20const%20shadowStyle%20=%20this.horizontalLineStyle?.shadowStyle%20%7C%7C%20%7B%7D;%0A%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20borderTopWidth:%20(size%20%7C%7C%20null)%20&&%20%60$%7Bsize%7Dpx%60,%0A%20%20%20%20%20%20%20%20borderColor:%20borderColor%20%7C%7C%20null,%0A%20%20%20%20%20%20%20%20borderStyle:%20borderType%20%7C%7C%20null,%0A%20%20%20%20%20%20%20%20boxShadow:%20getBoxShadowStyle(shadowStyle),%0A%20%20%20%20%20%20%7D;%0A%20%20%20%20%7D,%0A%20%20%20%20inlineStyles()%20%7B%0A%20%20%20%20%20%20const%20angleStyle%20=%20this.horizontalLineStyle?.angleStyle%20%7C%7C%200;%0A%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20transform:%20%60rotate($%7BangleStyle%7Ddeg)%60,%0A%20%20%20%20%20%20%20%20...buildInlineStyles(this.styles,%20this.alignment),%0A%20%20%20%20%20%20%20%20width:%20this.styles.width%20%7C%7C%20'100%25',%0A%0A%20%20%20%20%20%20%20%20//%20need%20a%20small%20gap%20to%20be%20able%20to%20select%20component%20in%20BO%0A%20%20%20%20%20%20%20%20padding:%20this.$$inEditor%20?%20'5px%200'%20:%20null,%0A%20%20%20%20%20%20%7D;%0A%20%20%20%20%7D,%0A%20%20%7D,%0A%7D;%0A%3C/script%3E%0A
`

const options = {
  moduleCache: {
    vue: Vue,
  },
  async getFile(url) {
    if (url == 'HorizontalLine.vue') {
      return Promise.resolve(decodeURI(componentSource));
    }

    const res = await fetch(url);

    if (!res.ok) {
      throw Object.assign(new Error(res.statusText + ' ' + url), { res });
    }
    return {
      getContentData: asBinary => asBinary ? res.arrayBuffer() : res.text(),
    }
  },
  addStyle(textContent) {
    options.styles = ''.concat(textContent);
  },
}

const componentName = 'IceWebHorizontalLine'
const componentObj = await loadModule('HorizontalLine.vue', options)
const componentCode = Vue.defineCustomElement({ ...componentObj, styles: [options.styles] })

function kebabCase(str) {
  return str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());
}

Vue.createApp({
  setup() {
    // Register as Web Components
    window.customElements.define(kebabCase(componentName), componentCode)
    return {}
  },
}).mount(document.createElement('div'));
})();